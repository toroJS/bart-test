<div class="resultsWrapper">
  <h1>
    ðŸŽ‰ Well done! <strong>{{ user }}</strong>
  </h1>

  <mat-card>
    <mat-card-header>
      <mat-card-title>Top 5</mat-card-title>
      <mat-card-subtitle>Here is the leader board</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content class="tableWrapper">
      <table
        mat-table
        [dataSource]="(dataSource | async) ?? []"
        class="mat-elevation-z0"
      >
        <!-- User Column -->
        <ng-container matColumnDef="rank" sticky>
          <th mat-header-cell *matHeaderCellDef>No.</th>
          <td mat-cell *matCellDef="let element">
            @if(element.user === user){
            <strong>{{ element.rank }}</strong>
            } @else {
            {{ element.rank }}
            }
          </td>
        </ng-container>
        <!-- User Column -->
        <ng-container matColumnDef="user" sticky>
          <th mat-header-cell *matHeaderCellDef>User</th>
          <td mat-cell *matCellDef="let element" [title]="element.user">
            @if(element.user === user){
            <strong>{{ element.user }}</strong>
            } @else {
            {{ element.user }}
            }
          </td>
        </ng-container>
        <!-- Score Column -->
        <ng-container matColumnDef="score">
          <th mat-header-cell *matHeaderCellDef>Total Score</th>
          <td mat-cell *matCellDef="let element">
            @if(element.user === user){
            <strong>{{ element.score }}</strong>
            } @else {
            {{ element.score }}
            }
          </td>
        </ng-container>
        <!-- Avg Column -->
        <ng-container matColumnDef="avg">
          <th mat-header-cell *matHeaderCellDef>Avg. round</th>
          <td mat-cell *matCellDef="let element">
            @if(element.user === user){
            <strong>{{ element.avg }}</strong>
            } @else {
            {{ element.avg }}
            }
          </td>
        </ng-container>
        <!-- Bursted Column -->
        <ng-container matColumnDef="bursted">
          <th mat-header-cell *matHeaderCellDef>Bursted balloons</th>
          <td mat-cell *matCellDef="let element">
            @if(element.user === user){
            <strong>{{ element.rank }}</strong>
            } @else {
            {{ element.rank }}
            }
          </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      </table>
    </mat-card-content>
  </mat-card>

  <button
    mat-flat-button
    color="primary"
    style="width: 100%; margin-top: 18px"
    (click)="handleRestart()"
  >
    Play again
  </button>
</div>

<canvas #confettiCanvas class="confettiCanvas"></canvas>
